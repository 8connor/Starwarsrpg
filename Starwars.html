<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link type="text/css" rel="stylesheet" href="Assets/css/style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <title>Star-Wars</title>
</head>

<body>
    <h1>Star-Wars RPG</h1>
    <h1>Your character</h1>
    <div class="attackers">
        <img id="obiWan" src="Assets/images/obiwan.jpg">
        <p id="obiWanHP"></p></img>
        <img id="babyYodaImg" alt="baby yoda" src="Assets/images/babyYoda.jpg">
        <p id="yodaHP"></p>
        <p id="yodaName"></p></img>
        <img id="luke" src="Assets/images/luke.jpg">
        <p id="lukeHP"></p></img>
    </div>
    <h1>Enemies available to attack</h1>
    <div class="enemies">
        <img id="boba" src="Assets/images/boba.jpg">
        <p id="bobaHP"></p></img>
        <img id="vader" src="Assets/images/vader.jpg">
        <p id="vaderHP"></p></img>
        <img id="maul" src="Assets/images/maul.jpg">
        <p id="maulHP"></p></img>
    </div>
    <h1 class="fightZone">Fight section</h1>
    <button id="attack">Attack</button>
    <h1>defender</h1>


    <script>

        // This runs the function whenever the document is loaded.

        $(document).ready(function () {

            function reset() {

                $("#obiWan").show();
                $("#luke").show();
                $("#obiWanHP").show();
                $("#lukeHP").show();
                $("#yodaHP").show();
                $("#babyYodaImg").show();

                $("#vader").show();
                $("#boba").show();
                $("#bobaHP").show();
                $("#vaderHP").show();
                $("#maul").show();
                $("#maulHP").show();

                var selectedDamage = []
            }

            function resetEnemies() {
                $("#vader").show();
                $("#boba").show();
                $("#bobaHP").show();
                $("#vaderHP").show();
                $("#maul").show();
                $("#maulHP").show();
            }

            //these are objects being defined.
            var obj = {
                characters: [
                    {
                        name: "luke",
                        health: 100,
                        AP: 20,
                        CAP: 100,
                        selected: false,
                    },
                    {
                        name: "babyYoda",
                        health: 120,
                        AP: 20,
                        CAP: 200,
                        selected: false,
                    },
                    {
                        name: "obiWan",
                        health: 110,
                        AP: 20,
                        CAP: 120,
                        selected: false,
                    },
                    {
                        name: "boba",
                        health: 100,
                        AP: 20,
                        CAP: 150,
                        selected: false,
                    },
                    {
                        name: "vader",
                        health: 100,
                        AP: 20,
                        CAP: 150,
                        selected: false,
                    },
                    {
                        name: "maul",
                        health: 100,
                        AP: 20,
                        CAP: 150,
                        selected: false,
                    }]
            }







            // This will grab the health property in each corresponding property in the array.
            var obi = obj.characters[0];
            var yoda = obj.characters[1];
            var luke = obj.characters[2];

            var boba = obj.characters[3];
            var vader = obj.characters[4];
            var maul = obj.characters[5];


            $("#obiWanHP").text(obi.health);
            $("#yodaHP").text(yoda.health);
            $("#lukeHP").text(luke.health);


            $("#bobaHP").text(boba.health);
            $("#vaderHP").text(vader.health);
            $("#maulHP").text(maul.health);



            // These functions will make the other photos disappear when one of them is clicked.

            // Characters

            // array created to hold the values of the selected character
            var selectedDamage = []



            $("#babyYodaImg").on("click", function () {
                $("#obiWan").hide();
                $("#luke").hide();
                $("#obiWanHP").hide();
                $("#lukeHP").hide();
                alert("Character selected!");

                yoda.selected = true;

                if (yoda.selected === true) {
                    selectedDamage.push(yoda.health, yoda.AP, yoda.CAP)
                };
                console.log(selectedDamage)
            });

            $("#obiWan").on("click", function () {
                $("#babyYodaImg").hide();
                $("#luke").hide();
                $("#yodaHP").hide();
                $("#lukeHP").hide();
                alert("Character selected!");

                obiWan.selected = true;

                if (obiWan.selected === true) {
                    selectedDamage.push(obi.health, obi.AP, obi.CAP);
                };
            });

            $("#luke").on("click", function () {
                $("#babyYodaImg").hide();
                $("#obiWan").hide();
                $("#obiWanHP").hide();
                $("#yodaHP").hide();
                alert("Enemy selected!");

                luke.selected = true;

                if (luke.selected === true) {
                    selectedDamage.push(luke.health, luke.AP, luke.CAP);
                };
            });
            //Enemies
            $("#boba").on("click", function () {
                $("#maul").hide();
                $("#vader").hide();
                $("#maulHP").hide();
                $("#vaderHP").hide();
                alert("Enemy selected!");

                boba.selected = true;

                if (boba.selected === true) {
                    selectedDamage.push(boba.health, boba.AP, boba.CAP);
                };

                console.log(selectedDamage)
            });

            $("#vader").on("click", function () {
                $("#boba").hide();
                $("#maul").hide();
                $("#maulHP").hide();
                $("#bobaHP").hide();
                alert("Enemy selected!");

                vader.selected = true;

                if (vader.selected === true) {
                    selectedDamage.push(vader.health, vader.AP, vader.CAP);
                };
            });

            $("#maul").on("click", function () {
                $("#vader").hide();
                $("#boba").hide();
                $("#bobaHP").hide();
                $("#vaderHP").hide();
                alert("Enemy selected!");

                maul.selected = true;

                if (maul.selected === true) {
                    selectedDamage.push(maul.health, maul.AP, maul.CAP);
                };
            });

            // This is the attack button.
            $("#attack").on("click", function () {

                var damageDone;
                var counterDamageDone;

                var attacking = function () {

                    var attack = true

                    if (attack === true) {
                        damageDone = selectedDamage[3] - selectedDamage[1];
                        // counterDamageDone = selectedDamage[] - selectedDamage [];
                        selectedDamage[3].push(damageDone)
                        return damageDone;
                    };
                }
                // if (attack === true) {
                //     damageDone = selectedDamage[4] - selectedDamage[2];
                //     // counterDamageDone = selectedDamage[] - selectedDamage [];

                // };
                if (damageDone <= 0) {
                    alert("YOU WIN!");
                    reset();
                } else {
                    attacking();

                };

                attacking();
                console.log(damageDone);
            });
        });
    </script>
</body>

</html>